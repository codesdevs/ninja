var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e},l=(e,s)=>a(e,t(s));import{p as d,a as i,o as u,c as m,r as p,b as y,d as g,F as v,k as f,e as k,u as h,f as w,g as b,h as j,t as P,i as C,w as _,j as x,_ as I,l as A,m as L,n as R,q,s as O,v as S,x as V}from"./vendor.3769d230.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();d("data-v-4b23e37a"),i();const Q={},N={class:"JDLogo",src:"/assets/logo.5b9d501c.png",alt:"logo"};Q.render=function(e,a){return u(),m("img",N)};const U={components:{Logo:Q}};d("data-v-250584ca");const E={class:"header"},z={class:"header-wrapper"},D={class:"flex items-center"},J=y("p",{class:"pl-3 select-none"},"äº¬ä¸œä»£æŒ‚-ä¸€å·è½¦",-1);i(),U.render=function(e,a,t,s,o,r){const n=p("Logo");return u(),m("div",E,[y("div",z,[y("div",D,[g(n,{class:"h-10 w-10"}),J])])])},U.__scopeId="data-v-250584ca";const K={class:"main"},T={setup:e=>(e,a)=>{const t=p("router-view");return u(),m(v,null,[g(U),y("div",K,[g(t)])],64)}};const $=f.create({prefixUrl:"/api",retry:{limit:0}});const F={setup(){const e=k("http://jd.qbquery.com/qun.png"),a=h();w();const t=k([]);let s=b({nickName:void 0,timestamp:void 0,todayIncome:0,yesterdayIncome:0,yesterdayExpenditure:0,currentJingdou:0,currentRedenvelope:0,jingxiRedenvelope:0,speedRedenvelope:0,jdRedenvelope:0});const o=k(["https://jd.qbquery.com/qun.png"]),r=async()=>{try{const e=localStorage.getItem("eid");if(!e)return void n();const a=await function(e){const a=new URLSearchParams;return a.set("eid",e),$.get("userinfo",{searchParams:a}).json()}(e);if(!a)return I.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼Œè¯·é‡é‡æ–°ç™»å½•"),void n();s.nickName=a.data.nickName,s.timestamp=new Date(a.data.timestamp).toLocaleString(),t.value=a.data.remark}catch(e){console.error(e)}};j((()=>{r()}));const n=()=>{localStorage.removeItem("eid"),a.push("/login")};return l(c({},P(s)),{activity:[{name:"ç©ä¸€ç©ï¼ˆå¯æ‰¾åˆ°å¤§å¤šæ•°æ´»åŠ¨ï¼‰",address:"äº¬ä¸œ APP é¦–é¡µ-é¢‘é“-è¾¹ç©è¾¹èµš"},{name:"å® æ±ªæ±ª",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-å® æ±ªæ±ª"},{name:"ä¸œä¸œèŒå® ",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-ä¸œä¸œèŒå® "},{name:"ä¸œä¸œå†œåœº",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-ä¸œä¸œå†œåœº"},{name:"ä¸œä¸œå·¥å‚",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-ä¸œä¸œå·¥å‚"},{name:"ä¸œä¸œè¶…å¸‚",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-ä¸œä¸œè¶…å¸‚"},{name:"é¢†ç°é‡‘",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-é¢†ç°é‡‘"},{name:"ä¸œä¸œå¥åº·ç¤¾åŒº",address:"äº¬ä¸œAPP-é¦–é¡µ/ç©ä¸€ç©/æˆ‘çš„-ä¸œä¸œå¥åº·ç¤¾åŒº"},{name:"äº¬å–œå†œåœº",address:"äº¬å–œAPP-æˆ‘çš„-äº¬å–œå†œåœº"},{name:"äº¬å–œç‰§åœº",address:"äº¬å–œAPP-æˆ‘çš„-äº¬å–œç‰§åœº"},{name:"äº¬å–œå·¥å‚",address:"äº¬å–œAPP-æˆ‘çš„-äº¬å–œå·¥å‚"},{name:"äº¬å–œè´¢å¯Œå²›",address:"äº¬å–œAPP-æˆ‘çš„-äº¬å–œè´¢å¯Œå²›"},{name:"äº¬ä¸œæé€Ÿç‰ˆçº¢åŒ…",address:"äº¬ä¸œæé€Ÿç‰ˆAPP-æˆ‘çš„-çº¢åŒ…"}],imgUrl:e,srcList:o,getInfo:r,logout:n,delAccount:async()=>{try{const e=localStorage.getItem("eid"),a=await function(e){return $.post("delaccount",{json:e}).json()}({eid:e});"è´¦æˆ·å·²ç§»é™¤"!==a.message?I.error(a.message):(I.success(a.message),setTimeout((()=>{n()}),1e3))}catch(e){console.error(e)}},openUrlWithJD:e=>{const a=encodeURIComponent(`{"category":"jump","des":"m","action":"to","url":"${e}"}`);window.location.href=`openapp.jdmobile://virtual?params=${a}`,console.log(window.location.href)},updateRemark:async()=>{try{const e=localStorage.getItem("eid"),a=await function(e){return $.post("update/remark",{json:e}).json()}({eid:e,remark:t.value});"æ›´æ–°/ä¸Šä¼ å¤‡æ³¨æˆåŠŸ"!==a.message?I.error(a.message):I.success(a.message)}catch(e){console.error(e)}},remark:t})}},M={class:"content"},W={class:"card"},B=y("div",{class:"card-header"},[y("p",{class:"card-title"},"ä¸ªäººä¸­å¿ƒ")],-1),G={class:"card-body"},H={class:"card-footer"},X=A("é€€å‡ºç™»å½•"),Y=A("åˆ é™¤è´¦å·"),Z={class:"card"},ee=y("div",{class:"card-header"},[y("p",{class:"card-title"},"èµ„äº§æ˜ç»†")],-1),ae={class:"card-body text-center"},te={class:"card"},se=y("div",{class:"card-header"},[y("p",{class:"card-title"},"å¤‡æ³¨"),y("span",{class:"card-subtitle"},"å¤‡æ³¨ç”¨äºè¯†åˆ«ç”¨æˆ·ï¼Œå¼ºçƒˆå»ºè®®é…ç½®")],-1),oe={class:"card-body"},re={class:"card-footer"},ne=A("ä¿å­˜"),ce=y("div",{class:"card"},[y("div",{class:"card-header"},[y("p",{class:"card-title"},"é€šçŸ¥ç¾¤"),y("span",{class:"card-subtitle"},"è¿›ç¾¤å…³æ³¨èµ„äº§å˜åŠ¨")]),y("div",{class:"card-body"},[y("img",{class:"flex flex-col w-48 m-auto mt-4",src:"/assets/qun.3373728c.png",width:"200",height:"200",alt:"qun"})])],-1),le={class:"card"},de=y("div",{class:"card-header"},[y("p",{class:"card-title"},"å¸¸è§æ´»åŠ¨ä½ç½®"),y("span",{class:"card-subtitle"},"ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§æ´»åŠ¨çš„ä½ç½®")],-1),ie={class:"card-body"},ue={class:"pr-2"};F.render=function(e,a,t,s,o,r){const n=p("el-button"),c=p("el-input");return u(),m("div",M,[y("div",W,[B,y("div",G,[y("p",null,"æ˜µç§°ï¼š"+C(e.nickName),1),y("p",null,"æ›´æ–°æ—¶é—´ï¼š"+C(e.timestamp),1)]),y("div",H,[g(n,{size:"small",auto:"",onClick:s.logout},{default:_((()=>[X])),_:1},8,["onClick"]),g(n,{type:"danger",size:"small",auto:"",onClick:s.delAccount},{default:_((()=>[Y])),_:1},8,["onClick"])])]),y("div",Z,[ee,y("div",ae,[y("p",null,"ä»Šæ—¥æ”¶å…¥ï¼š"+C(e.todayIncome),1),y("p",null,"æ˜¨æ—¥æ”¶å…¥ï¼š"+C(e.yesterdayIncome),1),y("p",null,"æ˜¨æ—¥æ”¯å‡ºï¼š"+C(e.yesterdayExpenditure),1),y("p",null,"å½“å‰äº¬ğŸ¶ï¼š"+C(e.currentJingdou),1),y("p",null,"å½“å‰ğŸ§§ï¼š"+C(e.currentRedenvelope),1),y("p",null,"äº¬å–œğŸ§§ï¼š"+C(e.jingxiRedenvelope),1),y("p",null,"æé€ŸğŸ§§ï¼š"+C(e.speedRedenvelope),1),y("p",null,"äº¬ä¸œğŸ§§ï¼š"+C(e.jdRedenvelope),1)])]),y("div",te,[se,y("div",oe,[g(c,{modelValue:s.remark,"onUpdate:modelValue":a[0]||(a[0]=e=>s.remark=e),placeholder:"è¯·è¾“å…¥å†…å®¹"},null,8,["modelValue"])]),y("div",re,[g(n,{size:"small",type:"success",onClick:s.updateRemark,auto:""},{default:_((()=>[ne])),_:1},8,["onClick"])])]),ce,y("div",le,[de,y("div",ie,[y("ul",null,[(u(!0),m(v,null,x(s.activity,((e,a)=>(u(),m("li",{key:a,class:"leading-normal"},[y("span",null,C(e.name)+"ï¼š",1),y("span",ue,C(e.address),1)])))),128))])])])])};const me={setup(){const e=h();w();let a=b({marginCount:0,allowAdd:!0,cookie:"",QRCode:void 0,qrCodeVisibility:!1,token:void 0,okl_token:void 0,cookies:void 0,timer:void 0,waitLogin:!1});const t=async()=>{try{const e=(await $.get("info").json()).data;a.marginCount=e.marginCount,a.allowAdd=e.allowAdd}catch(e){console.error(e)}},s=async()=>{try{const t=await function(e){return $.post("check",{json:e}).json()}({token:a.token,okl_token:a.okl_token,cookies:a.cookies});switch(null==t?void 0:t.data.errcode){case 0:localStorage.setItem("eid",t.data.eid),I.success(t.message),clearInterval(a.timer),e.push("/");break;case 176:break;default:I.error(t.message),a.waitLogin=!1,clearInterval(a.timer)}}catch(t){clearInterval(a.timer),a.waitLogin=!1}};return j((()=>{t()})),l(c({},P(a)),{getInfo:t,getQrcode:async()=>{try{const e=await $.get("qrcode").json();a.token=e.data.token,a.okl_token=e.data.okl_token,a.cookies=e.data.cookies,a.QRCode=e.data.QRCode,a.QRCode&&(a.qrCodeVisibility=!0,a.waitLogin=!0,clearInterval(a.timer),a.timer=setInterval(s,3e3))}catch(e){console.error(e),I.error("ç”ŸæˆäºŒç»´ç å¤±è´¥ï¼è¯·é‡è¯•æˆ–æ”¾å¼ƒ")}},showQrcode:async()=>{a.qrCodeVisibility=!0},ckeckLogin:s,jumpLogin:async()=>{const e=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${a.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=e},CKLogin:async()=>{try{const e=a.cookie.match(/pt_key=(.*?);/)&&a.cookie.match(/pt_key=(.*?);/)[1],t=a.cookie.match(/pt_pin=(.*?);/)&&a.cookie.match(/pt_pin=(.*?);/)[1];if(e&&t){const a=await function(e){return $.post("cklogin",{json:e}).json()}({pt_key:e,pt_pin:t});200===a.code&&a.data.eid?(localStorage.setItem("eid",a.data.eid),I.success(a.message)):I.error(a.message||"cookie è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡è¯•ï¼")}else I.error("cookie è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡è¯•ï¼")}catch(e){console.error(e)}},jumpTwoCar:async()=>{window.location.href="http://www.baidu.com"}})}};d("data-v-3f9dd356");const pe={class:"content"},ye=L('<div class="card" data-v-3f9dd356><div class="card-header" data-v-3f9dd356><div class="flex items-center justify-between" data-v-3f9dd356><p class="card-title" data-v-3f9dd356>å‘è½¦é¡»çŸ¥</p></div><span class="card-subtitle" data-v-3f9dd356> æ¬¢è¿ä¸Šè½¦ï¼Œè¯·ç³»å¥½å®‰è£…å…¨å¸¦ï¼Œè¯·æŒ‰ç…§æ•™ç¨‹æ‰“å¼€æ‰€æœ‰æ´»åŠ¨ <a href="https://www.yuque.com/docs/share/5c3542b8-6fad-4503-a62d-d296f475c5ae" class="jc" data-v-3f9dd356>æ•™ç¨‹åœ°å€</a></span></div></div>',1),ge={class:"card"},ve={class:"card-header"},fe={class:"flex items-center justify-between"},ke=y("p",{class:"card-title"},"æ‰«ç ç™»å½•",-1),he={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},we=y("span",{class:"card-subtitle"}," è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç™»å½•ï¼Œç‚¹å‡»æŒ‰é’®åå›åˆ°æœ¬ç½‘ç«™æŸ¥çœ‹æ˜¯å¦ç™»å½•æˆåŠŸï¼Œäº¬ä¸œçš„å‡çº§æç¤ºä¸ç”¨ç®¡ã€‚ ",-1),be={class:"card-body text-center"},je={key:0,class:"flex flex-col w-48 m-auto mt-4"},Pe=A("åˆ‡æ¢äºŒå·è½¦"),Ce=A("æ‰«æäºŒç»´ç ç™»å½•"),_e=A("è·³è½¬åˆ°äº¬ä¸œ App ç™»å½•"),xe=["src"],Ie=y("div",{class:"card-footer"},null,-1),Ae={class:"card hidden"},Le={class:"card-header"},Re={class:"flex items-center justify-between"},qe=y("p",{class:"card-title"},"CK ç™»å½•",-1),Oe={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Se=y("span",{class:"card-subtitle"}," è¯·åœ¨ä¸‹æ–¹è¾“å…¥æ‚¨çš„ cookie ç™»å½•ã€‚ ",-1),Ve={class:"card-body text-center"},Qe=A("ç™»å½•"),Ne=y("div",{class:"card-footet"},null,-1);i(),me.render=function(e,a,t,s,o,r){const n=p("el-button"),c=p("el-input");return u(),m("div",pe,[ye,y("div",ge,[y("div",ve,[y("div",fe,[ke,y("span",he,"ä½™é‡ï¼š"+C(e.marginCount),1)]),we]),y("div",be,[e.qrCodeVisibility?(u(),m("img",{key:1,src:e.QRCode,width:256,class:"m-auto"},null,8,xe)):(u(),m("div",je,[g(n,{class:"mt-4 ml-0",type:"primary",round:"",onClick:s.jumpTwoCar},{default:_((()=>[Pe])),_:1},8,["onClick"]),g(n,{class:"mt-4 ml-0",type:"primary",round:"",onClick:s.getQrcode},{default:_((()=>[Ce])),_:1},8,["onClick"]),g(n,{class:"mt-4 ml-0",type:"primary",round:"",onClick:s.jumpLogin},{default:_((()=>[_e])),_:1},8,["onClick"])]))]),Ie]),y("div",Ae,[y("div",Le,[y("div",Re,[qe,y("span",Oe,"ä½™é‡ï¼š"+C(e.marginCount),1)]),Se]),y("div",Ve,[g(c,{modelValue:e.cookie,"onUpdate:modelValue":a[0]||(a[0]=a=>e.cookie=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),g(n,{type:"primary",size:"small",round:"",onClick:s.CKLogin},{default:_((()=>[Qe])),_:1},8,["onClick"])]),Ne])])},me.__scopeId="data-v-3f9dd356";const Ue=[{path:"/",component:F},{path:"/login",component:me}],Ee=R({history:q(),routes:Ue}),ze=[S,V,I],De=[I],Je=O(T);ze.forEach((e=>{Je.component(e.name,e)})),De.forEach((e=>{Je.use(e)})),Je.use(Ee),Je.mount("#app");
